<ion-view view-title="IssueList">
   
   <!-- Bouton header-->
  <ion-nav-buttons side="primary">
      <a href="#/tab/home">
        <button type="button" class="button icon ion-home button-HOME"></button>
      </a>
  </ion-nav-buttons>
  <ion-nav-buttons side="secondary">
    <a href="#/tab/myIssues">
      <button type="button" class="button icon ion-star button-favory">My Issues</button>
    </a>
  </ion-nav-buttons>

   
 <ion-content ng-controller="IssuesCtrl">
    <!-- Test "multiple search" field 
    <ui-select multiple ng-model="issueType.id" ng-disabled="ctrl.disabled" sortable="true" close-on-select="false">
    <ui-select-match placeholder="Select issue...">{{ $item.name }} &lt;{{ $item.description }}&gt;</ui-select-match>
    <ui-select-choices repeat="issue in issues | propsFilter: {name: $select.search, description: $select.search}">
      <div ng-bind-html="issue.issueType.name | highlight: $select.search"></div>
      <small>
        name: {{ issue.name}}
        description: <span ng-bind-html="''+issue.description | highlight: $select.search"></span>
      </small>
    </ui-select-choices>
  </ui-select>
  -->

    <!-- Affichage de deux boutons pour VISUAL LIST/MAP -->
    <div ng-controller="AppCtrl" scroll="false">
      <div class=" button-bar">
        <button class="button button-light button-android" ng-class="{ 'button\-positive': demo == 'ios' }" ng-click="setPlatform('ios')">
          Visual List
        </button>
        <button class="button button-light button-android" ng-class="{ 'button\-positive': demo == 'ionic' }" ng-click="setPlatform('ionic')">
          Visual Map
        </button>
      </div>

      <!-- Trie par Auteur ascendant / descendant et par Date -->
      <ul class="list">  
        trier ascendant / descandant
        <li class="item item-toggle">
        Author
          <label class="toggle toggle-assertive">
            <input type="checkbox">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </li>
        <li class="item item-toggle">
        Date
          <label class="toggle toggle-assertive">
            <input type="checkbox">
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </li>
      </ul>

    <!-- Recuperation des donnÃ©es -->
    <a class="list">
 
        <a ng-repeat="issue in issues" 
           href="#/tab/issueDetails/{{issue.id}}"
           class="item item-thumbnail-left css-AllIssues">

          <img ng-src="{{ issue.imageUrl }}">
          <h2>{{ issue.issueType.name }}</h2>
          <p>{{ issue.issueType.description }}</p>
          <h5>{{ issue.owner.name }}</h5>
          <h5>{{ issue.createdOn }}</h5>
          <button class="button button-positive">
              <h4>Status</h4>
              <p>{{ issue.state }}<p>
          </button>
          
          <!-- bouton visible que lors staff pour editer le status -->
          <div class="item" ng-model="isStaff" ng-init="isStaff=false">
            <button class="button button-positive" ng-if="isStaff">edit</button>
            <p>{{ issue.edit }}<p> 
          </div>

 
        </a>
      </a>

    <!--Methode de rafraichissement de la page  -->  
    <ion-refresher on-refresh="doRefresh()">              
    </ion-refresher>

    <!-- search button -->
    <label class="item item-input">
      <input type="text" placeholder="Issue Type" ng-model="issueType.id" required="required"/>
    </label>
    <button type="button" class="button-positive" ng-click="filterIssues()"><h6>Search</h6></button>


  </ion-content>
</ion-view>